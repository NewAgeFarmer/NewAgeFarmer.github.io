(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{369:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"sfc-单文件组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sfc-单文件组件"}},[t._v("#")]),t._v(" SFC 单文件组件")]),t._v(" "),s("p",[t._v("Vue 允许将 UI 划分为多个独立的、可复用的部分，只需要在内部封装实现自己的逻辑，这些可复用的部分被称为"),s("code",[t._v("组件")]),t._v("。")]),t._v(" "),s("p",[t._v("与 HTML 类似，Vue 组件可以实现嵌套，在父组件下安放子组件，可以在 Vue 官方的调试工具 "),s("code",[t._v("vue-devtool")]),t._v(" 中查看 Vue 组件的树状结构图（Vue 组件树）。")]),t._v(" "),s("h2",{attrs:{id:"结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结构"}},[t._v("#")]),t._v(" 结构")]),t._v(" "),s("p",[t._v("通过 "),s("code",[t._v(".vue")]),t._v(" 文件构建一个 Vue 单文件组件(SFC) 。")]),t._v(" "),s("p",[s("code",[t._v(".vue")]),t._v(" 文件通常包含三部分，模板"),s("strong",[t._v("template")]),t._v("、脚本"),s("strong",[t._v("script")]),t._v("以及样式"),s("strong",[t._v("style")]),t._v("。结构如下：")]),t._v(" "),s("div",{staticClass:"language-Vue line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scoped")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template"}},[t._v("#")]),t._v(" template")]),t._v(" "),s("p",[t._v(".vue 文件在 "),s("strong",[t._v("template")]),t._v(" 中可以书写类似于 HTML 标签来构建 Vue 组件的页面结构，又与 HTML 不同的是，"),s("strong",[t._v("template")]),t._v(" 为用户提供了 Vue.js 相关的 API 可以在标签上直接使用，比如 "),s("strong",[t._v("v-on")]),t._v("、"),s("strong",[t._v("v-bind")]),t._v("、"),s("strong",[t._v("插值表达式")]),t._v("等等。")]),t._v(" "),s("blockquote",[s("p",[t._v("Vue 2 以后， "),s("strong",[t._v("template")]),t._v(" 只能有一个根节点，当下面存在多个不确定的根节点会直接报错。")])]),t._v(" "),s("h3",{attrs:{id:"script"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#script"}},[t._v("#")]),t._v(" script")]),t._v(" "),s("p",[s("strong",[t._v("script")]),t._v(" 标签下用来书写组件的代码逻辑，同时对外暴露这个组件选项对象。")]),t._v(" "),s("p",[t._v("默认导出的对象有多个常用的属性及方法：\n"),s("code",[t._v("data")]),t._v("方法用来维护整个组件的数据，至于为什么是"),s("strong",[t._v("方法")]),t._v("而不是"),s("strong",[t._v("属性")]),t._v("？因为提高组件的复用性，每个新的组件实例不能共用一套数据，所以 "),s("code",[t._v("data")]),t._v(" 方法里面"),s("strong",[t._v("返回")]),t._v("一个新的含有数据的对象，以保证每次创建新的组件实例时它的数据只在自己这个组件内生效。")]),t._v(" "),s("p",[s("code",[t._v("name")]),t._v("属性显式声明组件的名称，在Vue组件树中展示，有利于开发者代码的调试，同时允许组件在自己的模板中调用自己。")]),t._v(" "),s("p",[s("code",[t._v("method")]),t._v("属性是一个包含组件里所有和"),s("strong",[t._v("函数")]),t._v("和"),s("strong",[t._v("方法")]),t._v("有关的对象，最后这些方法会混入到组件实例上，可以通过组件实例直接访问到。声明方法时要"),s("strong",[t._v("避免使用箭头函数")]),t._v("，因为箭头函数无法传递"),s("strong",[t._v("this")]),t._v("的指向，也无法通过"),s("strong",[t._v("this")]),t._v("访问组件实例。")]),t._v(" "),s("p",[s("code",[t._v("watch")]),t._v("监听属性用来监听组件里某些数据的变化，在变化时执行回调函数。")]),t._v(" "),s("p",[s("code",[t._v("computed")]),t._v("同样可以监听数据的变化，并返回一个只读计算属性。")]),t._v(" "),s("p",[s("code",[t._v("components")]),t._v("对象用于注册对当前实例可用的组件，也就是用于注册当前组件的子组件。")]),t._v(" "),s("p",[s("code",[t._v("props")]),t._v("属性用于接收父组件传递的自定义属性信息，用于"),s("strong",[t._v("组件通信")]),t._v("。")]),t._v(" "),s("p",[t._v("各种各样的"),s("code",[t._v("生命周期函数")]),t._v("，在 Vue 组件实例的不同时期触发，关于生命周期的笔记可以看上一节"),s("RouterLink",{attrs:{to:"/guide/notes/05-vue/03-生命周期.html"}},[t._v("03-生命周期")]),t._v("。")],1),t._v(" "),s("h3",{attrs:{id:"style"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#style"}},[t._v("#")]),t._v(" style")]),t._v(" "),s("p",[s("strong",[t._v("style")]),t._v(" 标签下存着所有与组件相关的样式，使用"),s("strong",[t._v("scoped")]),t._v("属性则样式只对本组件生效（会为样式加上一个不重复的标记来保证唯一），如果没有"),s("strong",[t._v("scoped")]),t._v("会引起样式污染。与"),s("strong",[t._v("template")]),t._v("和"),s("strong",[t._v("script")]),t._v("不同的是，在同一个 .vue 文件下，可以存在多个 "),s("strong",[t._v("style")]),t._v(" 标签。如果想使用 css 预处理器，可以使用 "),s("strong",[t._v("lang")]),t._v(" 属性，但同时需要在 "),s("strong",[t._v("webpack")]),t._v(" 中配置对应的 "),s("strong",[t._v("loader")]),t._v("，Vue Loader通过 lang 来判断要使用的预处理器。")]),t._v(" "),s("div",{staticClass:"language-HTML line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("scoped")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("scss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":root")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("p",[t._v("组件声明完毕后，需要在父组件中导入组件暴露的对象，然后 "),s("strong",[t._v("components")]),t._v(" 选项上注册。注册时的名字也将作为组件名：")]),t._v(" "),s("div",{staticClass:"language-Vue line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("components")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("camelCase")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" camelCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6 语法中属性名与变量名相同只写一个即可")]),t._v("\n\t\tkebabCase"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("注册后，建议将驼峰命名法改为短横线连法，以标签的形式在模板中使用：")]),t._v(" "),s("div",{staticClass:"language-Vue line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("kebab-case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("kebab-case")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"全局组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#全局组件"}},[t._v("#")]),t._v(" 全局组件")]),t._v(" "),s("p",[t._v("全局组件是 Vue 项目下所有实例文件都能直接使用的组件，在 main.js 文件中导入并注册。")]),t._v(" "),s("h3",{attrs:{id:"局部组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#局部组件"}},[t._v("#")]),t._v(" 局部组件")]),t._v(" "),s("p",[t._v("私有的组件可以在实例中的"),s("code",[t._v("components")]),t._v("选项注册，也就是局部组件，这样局部组件就可以只在当前实例下工作。")])])}),[],!1,null,null,null);s.default=e.exports}}]);